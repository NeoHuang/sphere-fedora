@(product: Product, variant: Variant, category: Category, searchResultRelated: SearchResult[Product])


@scripts = {<script type="text/javascript" src="@routes.Assets.at("javascripts/jquery.zoom.js")"></script>}

@main(product.getName, scripts){
    @helpers.navigation(category)
}{
    <section>
      @helpers.breadcrumb(category)

      <!--PRODUCT DETAIL STARTS-->
      <div id="product_detail">
        <!--Product Left Starts-->
        <div class="product_leftcol">
          <span id="product-image-zoom" class="image-zoom">
              <img height="360" width="360" src="@variant.getFeaturedImage.getSize(ImageSize.ORIGINAL).getUrl">
          </span>
          <span class="pr_info">@Messages("product.zoom")</span>
          <ul class="pr_gallery">
          @for(matchedVariant <- getPossibleVariants(product, variant, "color")) {
            <li>
                <a href="@getProductUrl(product, matchedVariant)">
                    <img src="@matchedVariant.getFeaturedImage.getSize(ImageSize.THUMBNAIL).getUrl">
                </a>
            </li>
          }
          </ul>
        </div>
        <!--Product Left Ends-->
        <!--Product Right Starts-->
        <div class="product_rightcol">
          <span id="img-zoomed"></span>
            <small class="pr_type">@category.getName</small>
          <h1>@product.getName(lang.toLocale)</h1>
          <p class="short_dc">@Html(abbreviate(product.getDescription(lang.toLocale), 400))</p>

        <form action="@routes.Carts.add" method="post">
          <input type="hidden" name="productId" value="@product.getId"/>
          <input type="hidden" name="variantId" value="@variant.getId"/>
          <div class="pr_price"> <big>@product.getPrice.getValue</big> <small></small> </div>
          @if(product.hasAttribute("size")) {
          <div class="size_info">
            <div class="size_sel">
              <label>@Messages("product.size") :</label>
              <select name="size">
                <option>SELECT</option>
                  @for(size <- getPossibleSizes(product, variant)) {
                    <option value="@size">@size</option>
                  }
              </select>
            </div>
            }
            @if(product.hasAttribute("color")) {
            <div class="color_sel">
              <label>@Messages("product.color") :</label>
              <select class="browse-url-selector" id="product-color-selector">
                @for(matchedVariant <- getPossibleVariants(product, variant, "color")) {
                <option data-url="@getProductUrl(product, matchedVariant)" @if(matchedVariant.getString("color") == variant.getString("color")){selected}>
                    @matchedVariant.getString("color")
                </option>
                }
              </select>
            </div>
          </div>
          }
          <div class="qty_info">
            <div class="quantity">
              <label>@Messages("cart.quantity") :</label>
              <select name="quantity">
                @for(quantity <- 1 to 5) {
                    <option value="@quantity">@quantity</option>
                }
              </select>
            </div>
          </div>
          <div class="add_to_buttons">
            <button type="submit" class="add_cart">@Messages("button.cart")</button>
            <span>@Messages("or")</span>
            <ul>
              <li><a href="#">@Messages("button.wishlist")</a></li>
            </ul>
          </div>
        </form>
          <div class="product_overview">
            <h4>@Messages("product.overview")</h4>
            <ul>
              <li>Long sleeves with single button cuffs.</li>
              <li>Cuffs can be rolled up and secured with button-tabs.</li>
              <li>Standing collar with notched detailing.</li>
              <li>Front button placket.</li>
              <li>Hem is longer in back.</li>
            </ul>
          </div>
        </div>
        <!--Product Right Ends-->

      </div>
      <!--PRODUCT DETAIL ENDS-->
      <!--Product List Starts-->
      <div class="products_list products_slider">
        <h2 class="sub_title">@Messages("list.related")</h2>
        <ul id="first-carousel" class="first-and-second-carousel jcarousel-skin-tango">
          @for(related <- searchResultRelated.getResults) {
          <li> <a href="@getProductUrl(related, related.getMasterVariant)" class="product_image"><img src="@related.getFeaturedImage.getSize(ImageSize.SMALL).getUrl"/></a>
            <div class="product_info">
              <h3><a href="@getProductUrl(related, related.getMasterVariant)">@related.getName(lang.toLocale)</a></h3>
              <small>@abbreviate(related.getDescription(lang.toLocale), 100)</small>
            </div>
            <div class="price_info"> <a href="#">+ @Messages("button.wishlist")</a>
              <button class="price_add" title="" type="button"><span class="pr_price">@related.getPrice.getValue</span>
                  <span class="pr_add">@Messages("button.cart")</span></button>
            </div>
          </li>
          }
        </ul>
      </div>
      <!--Product List Ends-->

      @helpers.newsletter()

    </section>
}{

}